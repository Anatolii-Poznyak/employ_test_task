{% extends "base.html" %}
{% load crispy_forms_filters %}
{% block content %}
  <h1>
    Employees list
    <a style="float: right" href="{% url 'employees_structure:employee-create' %}"><i class="fas fa-user-plus"></i></a>
  </h1>
  <form  id="search-form" method="get">
    {{ search_form|crispy }}
    <input id="search-button" type="submit" value="Search" class="btn btn-outline-primary" >
  </form>

  {% if employee_list %}
    <table id="employee-table" class="table">
      <tr>
        <th data-sort-field="id">ID <a href="{% url 'employees_structure:employee-list-sort' 'id' 'asc' %}">ğŸ”¼ </a> <a href="{% url 'employees_structure:employee-list-sort' 'id' 'desc' %}">ğŸ”½</a></th>
        <th>ĞŸĞ†Ğ‘ <a href="{% url 'employees_structure:employee-list-sort' 'last_name' 'asc' %}">ğŸ”¼ </a> <a href="{% url 'employees_structure:employee-list-sort' 'last_name' 'desc' %}">ğŸ”½</a></th>
        <th>ĞŸĞ¾ÑĞ°Ğ´Ğ° <a href="{% url 'employees_structure:employee-list-sort' 'position' 'asc' %}">ğŸ”¼ </a> <a href="{% url 'employees_structure:employee-list-sort' 'position' 'desc' %}">ğŸ”½</a></th>
        <th>ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¸Ğº <a href="{% url 'employees_structure:manager-list-sort' 'manager' 'first_name' 'asc' %}">ğŸ”¼ </a> <a href="{% url 'employees_structure:manager-list-sort' 'manager' 'first_name' 'desc' %}">ğŸ”½</a></th>
        <th>Email <a href="{% url 'employees_structure:employee-list-sort' 'email' 'asc' %}">ğŸ”¼ </a> <a href="{% url 'employees_structure:employee-list-sort' 'email' 'desc' %}">ğŸ”½</a></th>
        <th>Ğ”Ğ°Ñ‚Ğ° Ğ½Ğ°Ğ¹Ğ¼Ñƒ <a href="{% url 'employees_structure:employee-list-sort' 'hired' 'desc' %}">ğŸ”¼ </a> <a href="{% url 'employees_structure:employee-list-sort' 'hired' 'asc' %}">ğŸ”½</a></th>
        <th>Ğ ĞµĞ´Ğ°Ğ³ÑƒĞ²Ğ°Ñ‚Ğ¸</th>
        <th>Ğ’Ğ¸Ğ´Ğ°Ğ»Ğ¸Ñ‚Ğ¸</th>
      </tr>
      {% for employee in employee_list %}
        <tr>
          <td>{{ employee.id }}</td>
          <td><a href="{{ employee.get_absolute_url }}">{{ employee.last_name }} {{ employee.first_name }} {{ employee.middle_name }} {% if user == employee %} (Ğ¯) {% endif %}</a></td>
          <td>{{ employee.position }}</td>
          <td><a href="{{ employee.manager.get_absolute_url }}">{{ employee.manager }}</a></td>
          <td>{{ employee.email }}</td>
          <td>{{ employee.hired }}</td>
          <td><div class="icon-center"><a href="{% url 'employees_structure:employee-update' pk=employee.id %}"><i class="fas fa-pencil-alt"></i></a></div></td>
          <td><div class="icon-center"><a href="{% url 'employees_structure:employee-delete' pk=employee.id %}"><i class="fas fa-trash-alt"></i></a></div></td>
        </tr>
      {% endfor %}
    </table>
  {% else %}
    <p>There are no employees yet!</p>
  {% endif %}

{% endblock %}
